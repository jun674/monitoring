<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>초거대제조AI - 통합 데이터 흐름 대시보드 v2</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;500;700;800&family=Rajdhani:wght@600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Pretendard', sans-serif; background-color: #0f172a; }
        .font-tech { font-family: 'Rajdhani', sans-serif; }
        .status-dot { width: 10px; height: 10px; border-radius: 50%; }
        .status-normal { background-color: #22c55e; box-shadow: 0 0 6px #22c55e; }
        .status-warning { background-color: #f59e0b; box-shadow: 0 0 6px #f59e0b; }
        .status-danger { background-color: #ef4444; box-shadow: 0 0 6px #ef4444; }
        
        @keyframes pulse-ring {
            0% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(34, 197, 94, 0); }
            100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0); }
        }
        .animate-pulse-ring { animation: pulse-ring 2s infinite; }

        .glass-bg {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-enter { animation: fadeIn 0.3s ease-out; }
        .modal-content-enter { animation: slideUp 0.3s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="text-slate-200 h-screen flex flex-col">

    <header class="glass-bg z-20 sticky top-0">
        <div class="max-w-screen-xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-sky-600 rounded flex items-center justify-center font-bold text-white shadow-lg shadow-sky-500/30">AI</div>
                <h1 class="text-xl font-bold text-white">통합 데이터 흐름 대시보드 V2</h1>
            </div>
             <div class="flex items-center gap-4">
                <div class="flex items-center gap-2 text-xs">
                    <div class="status-dot status-normal animate-pulse-ring"></div>
                    <span>시스템 상태: <span class="font-bold text-green-400">정상</span></span>
                </div>
            </div>
        </div>
    </header>

    <main class="flex-1 overflow-y-auto p-6">
        <div class="max-w-screen-xl mx-auto">
            
            <!-- (A) 글로벌 상태 패널 -->
            <section id="global-status-panel" class="mb-6">
                <h2 class="text-sm font-bold text-slate-400 uppercase tracking-wider mb-3">Global Status Pipeline</h2>
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-px bg-slate-700 rounded-lg overflow-hidden shadow-lg">
                    <div class="p-4 bg-slate-800 text-center">
                        <p class="text-xs text-slate-400">① 수집</p>
                        <p class="text-lg font-bold text-green-400">정상</p>
                    </div>
                    <div class="p-4 bg-slate-800 text-center">
                        <p class="text-xs text-slate-400">② 전송</p>
                        <p class="text-lg font-bold text-green-400">정상</p>
                    </div>
                    <div class="p-4 bg-slate-800 text-center">
                        <p class="text-xs text-slate-400">③ 플랫폼</p>
                        <p class="text-lg font-bold text-yellow-400">경고</p>
                    </div>
                    <div class="p-4 bg-slate-800 text-center">
                        <p class="text-xs text-slate-400">④ 분석</p>
                        <p class="text-lg font-bold text-green-400">정상</p>
                    </div>
                    <div class="p-4 bg-slate-800 text-center">
                        <p class="text-xs text-slate-400">⑤ 서비스</p>
                        <p class="text-lg font-bold text-red-400">위험</p>
                    </div>
                     <div class="p-4 bg-slate-800 text-center">
                        <p class="text-xs text-slate-400">⑥ 총괄</p>
                        <p class="text-lg font-bold text-green-400">정상</p>
                    </div>
                </div>
            </section>
            
                        <div class="space-y-6">
            
                            <!-- STAGE 1-3 -->
                            <div id="stage-1" class="glass-bg p-5 rounded-lg">
                                <h3 class="font-tech text-xl font-bold text-blue-300 mb-4 border-b border-slate-700 pb-2">①-③ 데이터 수집, 전송 & 플랫폼</h3>
                                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                                    <!-- Cards will be injected here -->
                                </div>
                            </div>
            
                            <!-- STAGE 4 -->
                             <div id="stage-4" class="glass-bg p-5 rounded-lg">
                                <h3 class="font-tech text-xl font-bold text-purple-300 mb-4 border-b border-slate-700 pb-2">④ AI 분석</h3>
                                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                                    <!-- Cards will be injected here -->
                                </div>
                            </div>
            
                            <!-- STAGE 5 -->
                             <div id="stage-5" class="glass-bg p-5 rounded-lg">
                                <h3 class="font-tech text-xl font-bold text-rose-300 mb-4 border-b border-slate-700 pb-2">⑤ 응용 서비스</h3>
                                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                                   <!-- Cards will be injected here -->
                                </div>
                            </div>
                            
                             <!-- STAGE 6 -->
                             <div id="stage-6" class="glass-bg p-5 rounded-lg">
                                <h3 class="font-tech text-xl font-bold text-slate-300 mb-4 border-b border-slate-700 pb-2">⑥ 총괄 및 검증</h3>
                                <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
                                   <!-- Cards will be injected here -->
                                </div>
                            </div>
            
                        </div>

        </div>
    </main>
    
    <!-- (C) 인터랙티브 상세 정보 모달 -->
    <div id="detail-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 hidden modal-enter">
        <div class="glass-bg rounded-xl w-full max-w-2xl max-h-[90vh] flex flex-col modal-content-enter">
            <header class="p-4 border-b border-slate-700 flex justify-between items-center">
                <div>
                    <h2 id="modal-title" class="text-xl font-bold">Component Details</h2>
                    <p id="modal-subtitle" class="text-sm text-slate-400">Real-time status and details</p>
                </div>
                <button onclick="closeModal()" class="w-8 h-8 rounded-full bg-slate-700/50 hover:bg-slate-600 transition-colors"><i class="fas fa-times"></i></button>
            </header>
            <main id="modal-body" class="p-6 flex-1 overflow-y-auto">
                <div class="grid grid-cols-2 gap-4 mb-6">
                    <div>
                        <p class="text-sm text-slate-400">현재 상태</p>
                        <p id="modal-status" class="text-2xl font-bold">정상</p>
                    </div>
                     <div>
                        <p class="text-sm text-slate-400">핵심 지표</p>
                        <p id="modal-kpi" class="text-2xl font-bold font-tech">Value</p>
                    </div>
                </div>
                <div>
                    <p class="text-sm font-bold text-slate-300 mb-2">시간대별 성능 추이</p>
                    <div class="bg-slate-900/50 p-4 rounded-lg"><canvas id="modal-chart"></canvas></div>
                </div>
            </main>
        </div>
    </div>


    <script>
        const companies = [
            { stage: 1, id: 'markbase', name: '마크베이스', role: 'OT 데이터', status: 'normal', kpi: '1.21M rec/s' },
            { stage: 1, id: 'amiqu', name: '아미크', role: 'IT 데이터', status: 'normal', kpi: '99.8%' },
            { stage: 1, id: 'keti', name: 'KETI', role: 'AIoT 엣지', status: 'normal', kpi: '24 Devices' },
            { stage: 2, id: 'limecsi', name: '라임씨에스아이', role: '5G 특화망', status: 'normal', kpi: '1.5ms' },
            { stage: 3, id: 'megazone', name: '메가존클라우드', role: '인프라', status: 'normal', kpi: '99.98%' },
            { stage: 3, id: 'kyungnam', name: '경남대학교', role: 'AAS 표준화', status: 'normal', kpi: '1,204 Models' },
            { stage: 3, id: 'nestfield', name: '네스트필드', role: '인터페이스', status: 'warning', kpi: '85% API' },
            { stage: 4, id: 'kaist', name: 'KAIST', role: '초거대 AI', status: 'normal', kpi: '92% Accuracy' },
            { stage: 4, id: 'nextstudio', name: '넥스트스튜디오', role: 'ESG AI', status: 'normal', kpi: '-7.5%' },
            { stage: 5, id: 'sortech', name: '소르테크', role: '품질검사', status: 'danger', kpi: '15 DPH' },
            { stage: 5, id: 'dxsolutions', name: 'DX솔루션즈', role: '불량 역추적', status: 'normal', kpi: '3.2 min' },
            { stage: 5, id: 'sdtech', name: '에스디테크', role: '공정품질', status: 'normal', kpi: '99.7%' },
            { stage: 5, id: 'metaisquare', name: '메타아이스퀘어', role: '음성인식', status: 'normal', kpi: '38% CER' },
            { stage: 6, id: 'gntp', name: '경남TP', role: '사업 총괄', status: 'normal', kpi: '85%' },
            { stage: 6, id: 'ktl', name: 'KTL', role: '기술 검증', status: 'normal', kpi: '7/10 Pass' },
        ];
        
        const statusConfig = {
            normal: { dot: 'status-normal', text: 'text-green-400', name: '정상' },
            warning: { dot: 'status-warning', text: 'text-yellow-400', name: '경고' },
            danger: { dot: 'status-danger', text: 'text-red-400', name: '위험' },
        };

        function renderCards() {
            companies.forEach(company => {
                const stageContainer = document.querySelector(`#stage-${company.stage} > div`);
                if (!stageContainer) return;

                const status = statusConfig[company.status];
                
                const cardHTML = `
                    <div onclick="openModal('${company.id}')" class="bg-slate-800 p-3 rounded-lg border border-slate-700 hover:bg-slate-700 hover:border-slate-500 transition-all cursor-pointer">
                        <div class="flex justify-between items-start">
                             <p class="text-sm font-bold">${company.name}</p>
                             <div class="status-dot ${status.dot} mt-1"></div>
                        </div>
                        <p class="text-xs text-slate-400">${company.role}</p>
                        <p class="font-tech text-lg ${status.text} mt-2">${company.kpi}</p>
                    </div>
                `;
                stageContainer.insertAdjacentHTML('beforeend', cardHTML);
            });
        }
        

        // (C) 인터랙티브 모달
        const modal = document.getElementById('detail-modal');
        let modalChart = null;

        function openModal(companyId) {
            const company = companies.find(c => c.id === companyId);
            if (!company) return;

            document.getElementById('modal-title').innerText = company.name;
            document.getElementById('modal-subtitle').innerText = company.role;
            
            const status = statusConfig[company.status];
            const modalStatus = document.getElementById('modal-status');
            modalStatus.innerText = status.name;
            modalStatus.className = `text-2xl font-bold ${status.text}`;

            document.getElementById('modal-kpi').innerText = company.kpi;

            modal.classList.remove('hidden');

            // Chart
            const ctx = document.getElementById('modal-chart').getContext('2d');
            if(modalChart) modalChart.destroy();
            
            modalChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['-60s', '-50s', '-40s', '-30s', '-20s', '-10s', 'Now'],
                    datasets: [{
                        label: '성능 추이',
                        data: Array.from({length: 7}, () => Math.random() * 80 + 10),
                        borderColor: '#38bdf8',
                        backgroundColor: 'rgba(56, 189, 248, 0.1)',
                        fill: true,
                        tension: 0.3,
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, max: 100, ticks: { color: '#94a3b8' }, grid: { color: '#334155' } },
                        x: { ticks: { color: '#94a3b8' }, grid: { color: '#334155' } }
                    }
                }
            });
        }

        function closeModal() {
            modal.classList.add('hidden');
        }

        // 초기화
        document.addEventListener('DOMContentLoaded', () => {
            renderCards();
        });
    </script>

</body>
</html>
