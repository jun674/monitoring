<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>초거대제조AI - 통합 데이터 흐름 대시보드 (Top Nav)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@300;400;500;600;700;800&family=Chakra+Petch:wght@500;600&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Pretendard', 'sans-serif'],
                        tech: ['Chakra Petch', 'sans-serif'],
                    },
                    colors: {
                        violet: { 50: '#f5f3ff', 100: '#ede9fe', 500: '#8b5cf6', 600: '#7c3aed', 900: '#4c1d95' },
                        slate: { 850: '#1e293b' }
                    },
                    boxShadow: {
                        'soft': '0 4px 20px -2px rgba(139, 92, 246, 0.05)',
                        'glow': '0 0 15px rgba(124, 58, 237, 0.3)',
                    }
                }
            }
        }
    </script>
    <style>
        /* 배경 설정 */
        body { 
            background: linear-gradient(135deg, #f3e8ff 0%, #e0e7ff 50%, #fce7f3 100%);
            background-attachment: fixed;
            color: #1e293b;
            overflow: hidden;
        }

        /* 가로 스크롤 컨테이너 */
        .horizontal-scroll-container {
            display: flex;
            overflow-x: auto;
            overflow-y: hidden;
            height: 100vh;
            padding: 0 5vw;
            align-items: center;
            gap: 6rem;
            scroll-behavior: smooth;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .horizontal-scroll-container::-webkit-scrollbar {
            display: none;
        }

        /* 스테이지 섹션 */
        .stage-section {
            min-width: 420px;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            position: relative;
            padding-top: 6rem;
            padding-bottom: 2rem;
        }

        /* 흐름 화살표 */
        .stage-section:not(:last-child)::before {
            content: '\f105';
            font-family: "Font Awesome 6 Free";
            font-weight: 900;
            position: absolute;
            right: -3.5rem;
            top: 55%;
            transform: translateY(-50%);
            font-size: 2rem;
            color: #a78bfa;
            opacity: 0.6;
            z-index: 0;
            text-shadow: 0 0 15px rgba(167, 139, 250, 0.4);
        }

        /* Card Style */
        .glass-card {
            background: rgba(255, 255, 255, 0.6);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.6);
            border-radius: 24px;
            box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.03);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.95);
            box-shadow: 0 20px 40px -5px rgba(124, 58, 237, 0.15);
            border-color: #fff;
            z-index: 10;
        }

        /* Top Navigation Dock Style */
        .nav-dock-container {
            background: rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            padding: 0.3rem;
            border-radius: 16px;
            display: flex;
            gap: 0.25rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            color: #64748b;
            cursor: pointer;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .nav-item:hover {
            background: rgba(255, 255, 255, 0.6);
            color: #475569;
        }

        .nav-item.active {
            background: #fff;
            color: #7c3aed;
            box-shadow: 0 2px 8px rgba(124, 58, 237, 0.1);
        }
        
        .nav-item i { font-size: 0.9rem; }

        /* Font & Utilities */
        .font-kpi { font-family: 'Chakra Petch', sans-serif; letter-spacing: -0.5px; }
        ::-webkit-scrollbar { display: none; }

        /* Modal Animation */
        .modal-enter { animation: modalPop 0.3s cubic-bezier(0.34, 1.56, 0.64, 1) forwards; }
        @keyframes modalPop {
            from { opacity: 0; transform: scale(0.95) translateY(20px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }
    </style>
</head>
<body>

    <header class="fixed top-0 left-0 w-full h-20 px-8 flex items-center justify-between z-40 bg-white/70 backdrop-blur-lg border-b border-white/50 shadow-sm">
        
        <div class="flex items-center">
            <div class="w-10 h-10 rounded-xl bg-slate-900 flex items-center justify-center text-white font-bold shadow-lg shadow-violet-200">
                AI
            </div>
            
            <div class="h-6 w-px bg-slate-300 mx-5"></div>
            
            <h1 class="text-xl font-extrabold text-slate-800 tracking-tight leading-none">초거대제조AI 플랫폼</h1>
        </div>

        <nav class="nav-dock-container">
            <div onclick="scrollToSection('stage-1')" class="nav-item active" id="nav-stage-1">
                <i class="fas fa-database"></i> <span>Data</span>
            </div>
            <div onclick="scrollToSection('stage-2')" class="nav-item" id="nav-stage-2">
                <i class="fas fa-network-wired"></i> <span>Transfer</span>
            </div>
            <div onclick="scrollToSection('stage-3')" class="nav-item" id="nav-stage-3">
                <i class="fas fa-cubes"></i> <span>Platform</span>
            </div>
            <div onclick="scrollToSection('stage-4')" class="nav-item" id="nav-stage-4">
                <i class="fas fa-brain"></i> <span>AI</span>
            </div>
            <div onclick="scrollToSection('stage-5')" class="nav-item" id="nav-stage-5">
                <i class="fas fa-industry"></i> <span>App</span>
            </div>
            <div onclick="scrollToSection('stage-6')" class="nav-item" id="nav-stage-6">
                <i class="fas fa-clipboard-check"></i> <span>Mgmt</span>
            </div>
        </nav>

    </header>

    <main class="horizontal-scroll-container" id="main-scroll">
        
        <div class="min-w-[2vw]"></div>

        <section id="stage-1" class="stage-section">
            <div class="flex items-center gap-3 mb-2 px-1">
                <span class="w-8 h-8 rounded-lg bg-violet-100 text-violet-600 flex items-center justify-center font-bold text-sm shadow-sm">01</span>
                <div>
                    <h2 class="text-xl font-bold text-slate-800">Data Collection</h2>
                    <p class="text-xs text-slate-500 font-medium">OT/IT 데이터 수집</p>
                </div>
            </div>
            <div class="flex flex-col gap-5" id="container-1"></div>
        </section>

        <section id="stage-2" class="stage-section">
            <div class="flex items-center gap-3 mb-2 px-1">
                <span class="w-8 h-8 rounded-lg bg-indigo-100 text-indigo-600 flex items-center justify-center font-bold text-sm shadow-sm">02</span>
                <div>
                    <h2 class="text-xl font-bold text-slate-800">Transfer (5G)</h2>
                    <p class="text-xs text-slate-500 font-medium">초고속 네트워크</p>
                </div>
            </div>
            <div class="flex flex-col gap-5" id="container-2"></div>
        </section>

        <section id="stage-3" class="stage-section">
            <div class="flex items-center gap-3 mb-2 px-1">
                <span class="w-8 h-8 rounded-lg bg-pink-100 text-pink-600 flex items-center justify-center font-bold text-sm shadow-sm">03</span>
                <div>
                    <h2 class="text-xl font-bold text-slate-800">Platform & AAS</h2>
                    <p class="text-xs text-slate-500 font-medium">인프라 및 표준화</p>
                </div>
            </div>
            <div class="flex flex-col gap-5" id="container-3"></div>
        </section>

        <section id="stage-4" class="stage-section">
            <div class="flex items-center gap-3 mb-2 px-1">
                <span class="w-8 h-8 rounded-lg bg-fuchsia-100 text-fuchsia-600 flex items-center justify-center font-bold text-sm shadow-sm">04</span>
                <div>
                    <h2 class="text-xl font-bold text-slate-800">AI Analysis</h2>
                    <p class="text-xs text-slate-500 font-medium">분석 및 모델링</p>
                </div>
            </div>
            <div class="flex flex-col gap-5" id="container-4"></div>
        </section>

        <section id="stage-5" class="stage-section">
            <div class="flex items-center gap-3 mb-2 px-1">
                <span class="w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center font-bold text-sm shadow-sm">05</span>
                <div>
                    <h2 class="text-xl font-bold text-slate-800">Application</h2>
                    <p class="text-xs text-slate-500 font-medium">응용 서비스</p>
                </div>
            </div>
            <div class="flex flex-col gap-5" id="container-5"></div>
        </section>

        <section id="stage-6" class="stage-section">
            <div class="flex items-center gap-3 mb-2 px-1">
                <span class="w-8 h-8 rounded-lg bg-emerald-100 text-emerald-600 flex items-center justify-center font-bold text-sm shadow-sm">06</span>
                <div>
                    <h2 class="text-xl font-bold text-slate-800">Management</h2>
                    <p class="text-xs text-slate-500 font-medium">총괄 및 검증</p>
                </div>
            </div>
            <div class="flex flex-col gap-5" id="container-6"></div>
        </section>

        <div class="min-w-[5vw]"></div>

    </main>

    <div id="detail-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-slate-900/20 backdrop-blur-md hidden transition-opacity duration-300">
        <div class="w-[90%] h-[90%] max-w-[1400px] bg-white rounded-[32px] shadow-2xl flex flex-col overflow-hidden modal-enter border border-white/50">
            
            <div class="h-20 flex items-center justify-between px-8 border-b border-slate-100 bg-white/80 backdrop-blur-xl z-10">
                <div class="flex items-center gap-5">
                    <div class="w-10 h-10 rounded-full bg-slate-50 border border-slate-200 flex items-center justify-center text-slate-400">
                        <i class="fas fa-cube"></i>
                    </div>
                    <div>
                        <div class="flex items-center gap-3">
                            <h3 id="modal-title" class="text-2xl font-bold text-slate-800 tracking-tight">업체명</h3>
                            <div id="modal-status-badge" class="px-2.5 py-0.5 rounded-full bg-green-100 text-green-700 text-xs font-bold flex items-center gap-1.5">
                                <span class="w-1.5 h-1.5 rounded-full bg-green-600"></span> 정상
                            </div>
                        </div>
                        <p id="modal-badge" class="text-sm text-slate-400 font-medium">Role</p>
                    </div>
                </div>
                <div class="flex items-center gap-3">
                    <button onclick="closeModal()" class="w-10 h-10 rounded-xl bg-slate-50 hover:bg-slate-100 text-slate-400 hover:text-slate-600 transition-colors">
                        <i class="fas fa-times text-lg"></i>
                    </button>
                </div>
            </div>

            <div class="flex-1 flex flex-col lg:flex-row overflow-hidden bg-[#fafafa]">
                
                <div class="w-full lg:w-96 bg-white border-b lg:border-b-0 lg:border-r border-slate-100 p-8 overflow-y-auto shrink-0">
                    <div class="space-y-8">
                        <div>
                            <h4 class="text-xs font-bold text-violet-500 uppercase tracking-widest mb-3">OVERVIEW</h4>
                            <p id="modal-desc" class="text-[15px] text-slate-600 leading-relaxed"></p>
                        </div>
                        
                        <div class="p-5 bg-violet-50/50 rounded-2xl border border-violet-100/50">
                            <h4 class="text-xs font-bold text-violet-500 uppercase tracking-widest mb-3">DETAIL INFO</h4>
                            <div id="modal-details" class="text-sm text-slate-700 leading-relaxed font-medium"></div>
                        </div>

                        <div>
                            <h4 class="text-xs font-bold text-violet-500 uppercase tracking-widest mb-3">Technology Stack</h4>
                            <div id="modal-tech-stack" class="flex flex-wrap gap-2">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="flex-1 relative p-4 lg:p-6">
                    <div class="w-full h-full bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden relative group">
                         <div class="absolute inset-0 flex items-center justify-center text-slate-400 z-0 bg-slate-50">
                            <div class="flex flex-col items-center gap-3">
                                <div class="w-12 h-12 border-4 border-violet-200 border-t-violet-500 rounded-full animate-spin"></div>
                                <p class="text-sm font-medium text-slate-500">Secure Connection...</p>
                            </div>
                        </div>
                        <iframe id="company-iframe" src="" class="absolute inset-0 w-full h-full z-10 bg-white" frameborder="0"></iframe>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script>
        // Data (100% 동일 유지)
        const companies = [
            { stage: 1, name: "마크베이스", role: "High-Speed DB", kpi: "1.21M rec/s", status: "normal", desc: "초고속 시계열 DBMS로 제조 현장 센서 데이터 실시간 수집 및 저장.", details: "설비의 PLC, 센서 등 OT(운영 기술) 환경에서 발생하는 대용량 시계열 데이터를 초당 100만 건 이상 처리할 수 있는 고성능 데이터베이스를 제공합니다.", techStack: ['시계열 DB', 'Real-time Processing', 'Big Data'], url: "https://www.machbase.com/" },
            { stage: 1, name: "아미크", role: "Legacy Connect", kpi: "99.8% Success", status: "normal", desc: "기존 ERP 데이터 연동 파이프라인 구축", details: "기업의 기존 ERP, MES 등 IT(정보기술) 시스템과 초거대 AI 플랫폼을 안정적으로 연동하기 위한 데이터 파이프라인을 구축합니다.", techStack: ['ETL', 'Data Pipeline', 'API Integration'], url: "http://www.amiqu.com/" },
            { stage: 1, name: "KETI", role: "AIoT Edge", kpi: "24 Devices", status: "normal", desc: "현장 설비 부착형 지능형 엣지 개발", details: "데이터가 발생하는 현장에 AIoT 엣지 디바이스를 설치하여 비전, 음향 등 비정형 데이터를 1차적으로 처리하고 분석합니다.", techStack: ['Edge Computing', 'AIoT', 'Embedded AI'], url: "https://www.keti.re.kr/" },
            { stage: 2, name: "라임씨에스아이", role: "5G Network", kpi: "1.5ms Latency", status: "normal", desc: "공장 내 음영 구역 없는 5G 특화망 구축", details: "공장 내 데이터 통신 음영 구역을 해소하고, 대용량 데이터를 초저지연으로 전송하기 위한 5G 특화망 인프라를 구축합니다.", techStack: ['5G', 'Network Slicing', 'Edge Network'], url: "http://www.limecsi.com/" },
            { stage: 3, name: "메가존클라우드", role: "Cloud Infra", kpi: "99.98% Uptime", status: "normal", desc: "하이브리드 AI 클라우드 센터(EBC) 구축", details: "AI 모델 학습 및 서비스 운영을 위한 하이브리드 클라우드 인프라(EBC)를 구축하고 안정적으로 운영합니다.", techStack: ['Hybrid Cloud', 'Kubernetes', 'MLOps'], url: "https://www.megazone.com/" },
            { stage: 3, name: "경남대학교", role: "Standardization", kpi: "1,204 Models", status: "normal", desc: "AAS 기반 이기종 설비 데이터 표준 모델링", details: "제조 현장에서 수집되는 다양한 형태의 데이터를 자산관리쉘(AAS) 기반의 표준 모델로 변환하여 데이터의 일관성과 활용성을 높입니다.", techStack: ['AAS', '데이터 모델링', 'Knowledge Graph'], url: "https://aas-system.netlify.app/" },
            { stage: 3, name: "네스트필드", role: "Interoperability", kpi: "85% API rate", status: "warning", desc: "이종 시스템 간 데이터 상호운용성 확보", details: "다양한 제조 장비와 시스템 간의 데이터 교환을 위한 표준 인터페이스를 제공하여 상호운용성을 보장합니다.", techStack: ['Middleware', 'Protocol Conversion', 'API Gateway'], url: "http://www.nestfield.co.kr/" },
            { stage: 4, name: "KAIST", role: "Hyperscale AI", kpi: "92% Accuracy", status: "normal", desc: "제조 특화 LLM 모델 개발 및 질의응답", details: "플랫폼의 핵심 두뇌 역할을 하는 제조 특화 초거대 언어모델(LLM)을 개발합니다. 이 모델은 공정 이상 원인 분석, 해결책 제안 등의 기능을 수행합니다.", techStack: ['LLM', '생성형 AI', 'Fine-tuning'], url: "https://www.kaist.ac.kr/" },
            { stage: 4, name: "넥스트스튜디오", role: "ESG AI", kpi: "-7.5% CO2", status: "normal", desc: "탄소 배출량 예측 및 저감 관리 모델", details: "제조 공정에서 발생하는 탄소 배출량을 예측하고, 생산 계획에 따른 저감 방안을 시뮬레이션하는 ESG 특화 AI 모델을 개발합니다.", techStack: ['예측 모델링', '시뮬레이션', 'ESG Analytics'], url: "http://www.next-studio.co.kr/" },
            { stage: 5, name: "소르테크", role: "Vision AI", kpi: "15 Defects/h", status: "danger", desc: "육안 검사 대비 속도 2배 향상 불량 검출", details: "AI 비전 기술을 활용하여 생산 라인의 제품 불량을 실시간으로 검출합니다. 기존 육안 검사 대비 속도와 정확도를 획기적으로 향상시킵니다.", techStack: ['Computer Vision', 'Deep Learning', 'Object Detection'], url: "http://www.sortech.co.kr/" },
            { stage: 5, name: "DX솔루션즈", role: "Traceability", kpi: "3.2 min/case", status: "normal", desc: "불량 발생 원인 자동 역추적 시스템", details: "제품 불량 발생 시, 해당 제품의 생산 이력과 데이터를 역추적하여 어떤 공정에서 어떤 원인으로 문제가 발생했는지 자동으로 분석합니다.", techStack: ['Data Tracking', 'AI Analytics', 'Root Cause Analysis'], url: "http://www.dxsolutions.co.kr/" },
            { stage: 5, name: "에스디테크", role: "Sensing", kpi: "99.7%", status: "normal", desc: "설비 진동/온도 실시간 데이터 수집", details: "설비의 진동, 온도 등 IIoT 센서 데이터를 실시간으로 수집하고 분석하여 공정 품질을 안정적으로 유지하고 관리합니다.", techStack: ['IIoT', 'Sensor Analytics', 'Predictive Maintenance'], url: "#" },
            { stage: 6, name: "경남TP", role: "Project Management", kpi: "85% Progress", status: "normal", desc: "사업 총괄 및 참여 기관 관리", details: "프로젝트의 전반적인 운영 및 관리를 책임지며, 참여 기관 간의 협력을 조율하고 사업 목표 달성을 위한 전략을 수립합니다.", techStack: ['프로젝트 관리', 'PMBOK', '성과 관리'], url: "https://www.gntp.or.kr/" },
            { stage: 6, name: "KTL", role: "Verification", kpi: "Pass", status: "normal", desc: "AI 모델 및 데이터 품질 신뢰성 검증", details: "개발된 AI 모델과 데이터의 품질, 신뢰성을 검증하는 역할을 수행합니다. 객관적인 평가 지표를 통해 솔루션의 완성도를 높입니다.", techStack: ['시스템 엔지니어링', '품질 보증', 'Testing'], url: "https://www.ktl.re.kr/" }
        ];

        // Styles & Config
        const statusConfig = {
            normal: { text: 'text-emerald-600', bg: 'bg-emerald-50', dot: 'bg-emerald-500', label: '정상' },
            warning: { text: 'text-amber-600', bg: 'bg-amber-50', dot: 'bg-amber-500', label: '점검' },
            danger: { text: 'text-rose-600', bg: 'bg-rose-50', dot: 'bg-rose-500', label: '장애' }
        };

        // Render Function
        function renderDashboard() {
            companies.forEach((item, index) => {
                const container = document.getElementById(`container-${item.stage}`);
                if (!container) return;

                const st = statusConfig[item.status];

                const card = document.createElement('div');
                card.className = `glass-card p-6 cursor-pointer flex flex-col justify-between group relative overflow-hidden h-[200px] w-full`;
                card.onclick = () => openModal(index);
                
                card.innerHTML = `
                    <div class="relative z-10 flex flex-col h-full justify-between">
                        <div>
                            <div class="flex justify-between items-start mb-3">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 rounded-full bg-slate-50 border border-slate-100 flex items-center justify-center text-slate-700 shadow-sm group-hover:scale-110 transition-transform duration-300">
                                        <i class="fas fa-cube text-sm opacity-50"></i>
                                    </div>
                                    <div>
                                        <h3 class="font-bold text-slate-800 text-lg tracking-tight group-hover:text-violet-600 transition-colors">${item.name}</h3>
                                        <p class="text-xs text-slate-400 font-medium">${item.role}</p>
                                    </div>
                                </div>
                                <div class="px-2.5 py-1 rounded-full ${st.bg} border border-transparent flex items-center gap-1.5">
                                    <span class="w-1.5 h-1.5 rounded-full ${st.dot}"></span>
                                    <span class="text-[10px] font-bold ${st.text}">${st.label}</span>
                                </div>
                            </div>
                            <p class="text-sm text-slate-500 leading-snug line-clamp-2">${item.desc}</p>
                        </div>
                        
                        <div class="pt-4 border-t border-slate-100 flex justify-between items-center">
                            <div>
                                 <p class="text-[10px] text-slate-400 font-bold uppercase tracking-wider mb-0.5">Performance</p>
                                 <p class="font-kpi text-lg font-bold text-slate-700 group-hover:text-slate-900 transition-colors">${item.kpi}</p>
                            </div>
                            <div class="w-8 h-8 rounded-full bg-slate-50 text-slate-300 flex items-center justify-center group-hover:bg-violet-500 group-hover:text-white transition-all duration-300 shadow-sm">
                                <i class="fas fa-arrow-right text-xs transform -rotate-45 group-hover:rotate-0 transition-transform duration-300"></i>
                            </div>
                        </div>
                    </div>
                    <div class="absolute -right-10 -bottom-10 w-40 h-40 bg-gradient-to-br from-violet-100/50 to-transparent rounded-full blur-2xl group-hover:opacity-100 opacity-0 transition-opacity duration-500 pointer-events-none"></div>
                `;
                container.appendChild(card);
            });
        }

        // Horizontal Scroll Logic
        const scrollContainer = document.getElementById('main-scroll');
        
        // Wheel Event for Horizontal Scroll
        scrollContainer.addEventListener('wheel', (evt) => {
            evt.preventDefault();
            scrollContainer.scrollLeft += evt.deltaY;
        });

        // Scroll Spy for Nav
        scrollContainer.addEventListener('scroll', () => {
            const sections = document.querySelectorAll('.stage-section');
            const navLinks = document.querySelectorAll('.nav-item');
            
            let current = '';
            const centerPos = scrollContainer.scrollLeft + (window.innerWidth / 2);

            sections.forEach(section => {
                const offsetLeft = section.offsetLeft;
                const offsetWidth = section.offsetWidth;
                
                // 현재 화면 중앙에 있는 섹션 감지
                if (centerPos >= offsetLeft && centerPos < offsetLeft + offsetWidth + 80) { 
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('active');
                if(link.id === `nav-${current}`) {
                    link.classList.add('active');
                }
            });
        });

        // Click to Scroll
        function scrollToSection(id) {
            const element = document.getElementById(id);
            if(element) {
                // 중앙 정렬 스크롤
                const scrollLeft = element.offsetLeft - (window.innerWidth / 2) + (element.offsetWidth / 2);
                scrollContainer.scrollTo({
                    left: scrollLeft,
                    behavior: 'smooth'
                });
            }
        }

        // Modal Logic
        const modal = document.getElementById('detail-modal');
        const iframe = document.getElementById('company-iframe');

        function openModal(index) {
            const item = companies[index];
            const st = statusConfig[item.status];

            document.getElementById('modal-title').innerText = item.name;
            document.getElementById('modal-badge').innerText = item.role;
            
            const badgeContainer = document.getElementById('modal-status-badge');
            badgeContainer.className = `px-3 py-1 rounded-full ${st.bg} ${st.text} text-xs font-bold flex items-center gap-1.5 border border-${st.text.split('-')[1]}-200`;
            badgeContainer.innerHTML = `<span class="w-1.5 h-1.5 rounded-full ${st.dot}"></span> ${st.label}`;
            
            document.getElementById('modal-desc').innerText = item.desc;
            document.getElementById('modal-details').innerText = item.details;
            
            const techStackContainer = document.getElementById('modal-tech-stack');
            techStackContainer.innerHTML = '';
            item.techStack.forEach(tech => {
                const techBadge = document.createElement('span');
                techBadge.className = 'px-3 py-1.5 text-xs font-medium bg-white text-slate-600 rounded-lg border border-slate-200 shadow-sm';
                techBadge.innerText = tech;
                techStackContainer.appendChild(techBadge);
            });

            iframe.src = item.url;
            modal.classList.remove('hidden');
        }

        function closeModal() {
            modal.classList.add('hidden');
            setTimeout(() => { iframe.src = ""; }, 200);
        }

        renderDashboard();
    </script>
</body>
</html>